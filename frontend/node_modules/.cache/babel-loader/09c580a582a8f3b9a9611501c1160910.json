{"ast":null,"code":"import { useCallback, useEffect, useMemo, useRef } from 'react';\nexport default function useRafLoop(callback, initiallyActive) {\n  if (initiallyActive === void 0) {\n    initiallyActive = true;\n  }\n\n  var raf = useRef(null);\n  var rafActivity = useRef(false);\n  var rafCallback = useRef(callback);\n  rafCallback.current = callback;\n  var step = useCallback(function (time) {\n    if (rafActivity.current) {\n      rafCallback.current(time);\n      raf.current = requestAnimationFrame(step);\n    }\n  }, []);\n  var result = useMemo(function () {\n    return [function () {\n      // stop\n      if (rafActivity.current) {\n        rafActivity.current = false;\n        raf.current && cancelAnimationFrame(raf.current);\n      }\n    }, function () {\n      // start\n      if (!rafActivity.current) {\n        rafActivity.current = true;\n        raf.current = requestAnimationFrame(step);\n      }\n    }, function () {\n      return rafActivity.current;\n    }];\n  }, []);\n  useEffect(function () {\n    if (initiallyActive) {\n      result[1]();\n    }\n\n    return result[0]; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return result;\n}","map":{"version":3,"sources":["/Users/willliu/projects/personalprojects/seernft/client/node_modules/react-use/esm/useRafLoop.js"],"names":["useCallback","useEffect","useMemo","useRef","useRafLoop","callback","initiallyActive","raf","rafActivity","rafCallback","current","step","time","requestAnimationFrame","result","cancelAnimationFrame"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,SAAtB,EAAiCC,OAAjC,EAA0CC,MAA1C,QAAwD,OAAxD;AACA,eAAe,SAASC,UAAT,CAAoBC,QAApB,EAA8BC,eAA9B,EAA+C;AAC1D,MAAIA,eAAe,KAAK,KAAK,CAA7B,EAAgC;AAAEA,IAAAA,eAAe,GAAG,IAAlB;AAAyB;;AAC3D,MAAIC,GAAG,GAAGJ,MAAM,CAAC,IAAD,CAAhB;AACA,MAAIK,WAAW,GAAGL,MAAM,CAAC,KAAD,CAAxB;AACA,MAAIM,WAAW,GAAGN,MAAM,CAACE,QAAD,CAAxB;AACAI,EAAAA,WAAW,CAACC,OAAZ,GAAsBL,QAAtB;AACA,MAAIM,IAAI,GAAGX,WAAW,CAAC,UAAUY,IAAV,EAAgB;AACnC,QAAIJ,WAAW,CAACE,OAAhB,EAAyB;AACrBD,MAAAA,WAAW,CAACC,OAAZ,CAAoBE,IAApB;AACAL,MAAAA,GAAG,CAACG,OAAJ,GAAcG,qBAAqB,CAACF,IAAD,CAAnC;AACH;AACJ,GALqB,EAKnB,EALmB,CAAtB;AAMA,MAAIG,MAAM,GAAGZ,OAAO,CAAC,YAAY;AAC7B,WAAO,CACH,YAAY;AACR;AACA,UAAIM,WAAW,CAACE,OAAhB,EAAyB;AACrBF,QAAAA,WAAW,CAACE,OAAZ,GAAsB,KAAtB;AACAH,QAAAA,GAAG,CAACG,OAAJ,IAAeK,oBAAoB,CAACR,GAAG,CAACG,OAAL,CAAnC;AACH;AACJ,KAPE,EAQH,YAAY;AACR;AACA,UAAI,CAACF,WAAW,CAACE,OAAjB,EAA0B;AACtBF,QAAAA,WAAW,CAACE,OAAZ,GAAsB,IAAtB;AACAH,QAAAA,GAAG,CAACG,OAAJ,GAAcG,qBAAqB,CAACF,IAAD,CAAnC;AACH;AACJ,KAdE,EAeH,YAAY;AAAE,aAAOH,WAAW,CAACE,OAAnB;AAA6B,KAfxC,CAAP;AAiBH,GAlBmB,EAkBjB,EAlBiB,CAApB;AAmBAT,EAAAA,SAAS,CAAC,YAAY;AAClB,QAAIK,eAAJ,EAAqB;AACjBQ,MAAAA,MAAM,CAAC,CAAD,CAAN;AACH;;AACD,WAAOA,MAAM,CAAC,CAAD,CAAb,CAJkB,CAKlB;AACH,GANQ,EAMN,EANM,CAAT;AAOA,SAAOA,MAAP;AACH","sourcesContent":["import { useCallback, useEffect, useMemo, useRef } from 'react';\nexport default function useRafLoop(callback, initiallyActive) {\n    if (initiallyActive === void 0) { initiallyActive = true; }\n    var raf = useRef(null);\n    var rafActivity = useRef(false);\n    var rafCallback = useRef(callback);\n    rafCallback.current = callback;\n    var step = useCallback(function (time) {\n        if (rafActivity.current) {\n            rafCallback.current(time);\n            raf.current = requestAnimationFrame(step);\n        }\n    }, []);\n    var result = useMemo(function () {\n        return [\n            function () {\n                // stop\n                if (rafActivity.current) {\n                    rafActivity.current = false;\n                    raf.current && cancelAnimationFrame(raf.current);\n                }\n            },\n            function () {\n                // start\n                if (!rafActivity.current) {\n                    rafActivity.current = true;\n                    raf.current = requestAnimationFrame(step);\n                }\n            },\n            function () { return rafActivity.current; },\n        ];\n    }, []);\n    useEffect(function () {\n        if (initiallyActive) {\n            result[1]();\n        }\n        return result[0];\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    return result;\n}\n"]},"metadata":{},"sourceType":"module"}