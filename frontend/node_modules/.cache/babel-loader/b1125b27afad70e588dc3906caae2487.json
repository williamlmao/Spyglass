{"ast":null,"code":"import { useEffect, useState } from 'react';\nimport { isNavigator, off, on } from './misc/util';\nvar nav = isNavigator ? navigator : undefined;\nvar conn = nav && (nav.connection || nav.mozConnection || nav.webkitConnection);\n\nfunction getConnectionState(previousState) {\n  var online = nav === null || nav === void 0 ? void 0 : nav.onLine;\n  var previousOnline = previousState === null || previousState === void 0 ? void 0 : previousState.online;\n  return {\n    online: online,\n    previous: previousOnline,\n    since: online !== previousOnline ? new Date() : previousState === null || previousState === void 0 ? void 0 : previousState.since,\n    downlink: conn === null || conn === void 0 ? void 0 : conn.downlink,\n    downlinkMax: conn === null || conn === void 0 ? void 0 : conn.downlinkMax,\n    effectiveType: conn === null || conn === void 0 ? void 0 : conn.effectiveType,\n    rtt: conn === null || conn === void 0 ? void 0 : conn.rtt,\n    saveData: conn === null || conn === void 0 ? void 0 : conn.saveData,\n    type: conn === null || conn === void 0 ? void 0 : conn.type\n  };\n}\n\nexport default function useNetworkState(initialState) {\n  var _a = useState(initialState !== null && initialState !== void 0 ? initialState : getConnectionState),\n      state = _a[0],\n      setState = _a[1];\n\n  useEffect(function () {\n    var handleStateChange = function () {\n      setState(getConnectionState);\n    };\n\n    on(window, 'online', handleStateChange, {\n      passive: true\n    });\n    on(window, 'offline', handleStateChange, {\n      passive: true\n    });\n\n    if (conn) {\n      on(conn, 'change', handleStateChange, {\n        passive: true\n      });\n    }\n\n    return function () {\n      off(window, 'online', handleStateChange);\n      off(window, 'offline', handleStateChange);\n\n      if (conn) {\n        off(conn, 'change', handleStateChange);\n      }\n    };\n  }, []);\n  return state;\n}","map":{"version":3,"sources":["/Users/willliu/projects/personalprojects/seernft/client/node_modules/react-use/esm/useNetworkState.js"],"names":["useEffect","useState","isNavigator","off","on","nav","navigator","undefined","conn","connection","mozConnection","webkitConnection","getConnectionState","previousState","online","onLine","previousOnline","previous","since","Date","downlink","downlinkMax","effectiveType","rtt","saveData","type","useNetworkState","initialState","_a","state","setState","handleStateChange","window","passive"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\nimport { isNavigator, off, on } from './misc/util';\nvar nav = isNavigator ? navigator : undefined;\nvar conn = nav && (nav.connection || nav.mozConnection || nav.webkitConnection);\nfunction getConnectionState(previousState) {\n    var online = nav === null || nav === void 0 ? void 0 : nav.onLine;\n    var previousOnline = previousState === null || previousState === void 0 ? void 0 : previousState.online;\n    return {\n        online: online,\n        previous: previousOnline,\n        since: online !== previousOnline ? new Date() : previousState === null || previousState === void 0 ? void 0 : previousState.since,\n        downlink: conn === null || conn === void 0 ? void 0 : conn.downlink,\n        downlinkMax: conn === null || conn === void 0 ? void 0 : conn.downlinkMax,\n        effectiveType: conn === null || conn === void 0 ? void 0 : conn.effectiveType,\n        rtt: conn === null || conn === void 0 ? void 0 : conn.rtt,\n        saveData: conn === null || conn === void 0 ? void 0 : conn.saveData,\n        type: conn === null || conn === void 0 ? void 0 : conn.type,\n    };\n}\nexport default function useNetworkState(initialState) {\n    var _a = useState(initialState !== null && initialState !== void 0 ? initialState : getConnectionState), state = _a[0], setState = _a[1];\n    useEffect(function () {\n        var handleStateChange = function () {\n            setState(getConnectionState);\n        };\n        on(window, 'online', handleStateChange, { passive: true });\n        on(window, 'offline', handleStateChange, { passive: true });\n        if (conn) {\n            on(conn, 'change', handleStateChange, { passive: true });\n        }\n        return function () {\n            off(window, 'online', handleStateChange);\n            off(window, 'offline', handleStateChange);\n            if (conn) {\n                off(conn, 'change', handleStateChange);\n            }\n        };\n    }, []);\n    return state;\n}\n"]},"metadata":{},"sourceType":"module"}