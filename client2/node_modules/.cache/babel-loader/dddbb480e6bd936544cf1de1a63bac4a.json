{"ast":null,"code":"import { useCallback, useEffect } from 'react';\nimport { off, on } from './misc/util';\n\nvar useBeforeUnload = function (enabled, message) {\n  if (enabled === void 0) {\n    enabled = true;\n  }\n\n  var handler = useCallback(function (event) {\n    var finalEnabled = typeof enabled === 'function' ? enabled() : true;\n\n    if (!finalEnabled) {\n      return;\n    }\n\n    event.preventDefault();\n\n    if (message) {\n      event.returnValue = message;\n    }\n\n    return message;\n  }, [enabled, message]);\n  useEffect(function () {\n    if (!enabled) {\n      return;\n    }\n\n    on(window, 'beforeunload', handler);\n    return function () {\n      return off(window, 'beforeunload', handler);\n    };\n  }, [enabled, handler]);\n};\n\nexport default useBeforeUnload;","map":{"version":3,"sources":["/Users/willliu/projects/personalprojects/seernft/client/node_modules/react-use/esm/useBeforeUnload.js"],"names":["useCallback","useEffect","off","on","useBeforeUnload","enabled","message","handler","event","finalEnabled","preventDefault","returnValue","window"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,SAAtB,QAAuC,OAAvC;AACA,SAASC,GAAT,EAAcC,EAAd,QAAwB,aAAxB;;AACA,IAAIC,eAAe,GAAG,UAAUC,OAAV,EAAmBC,OAAnB,EAA4B;AAC9C,MAAID,OAAO,KAAK,KAAK,CAArB,EAAwB;AAAEA,IAAAA,OAAO,GAAG,IAAV;AAAiB;;AAC3C,MAAIE,OAAO,GAAGP,WAAW,CAAC,UAAUQ,KAAV,EAAiB;AACvC,QAAIC,YAAY,GAAG,OAAOJ,OAAP,KAAmB,UAAnB,GAAgCA,OAAO,EAAvC,GAA4C,IAA/D;;AACA,QAAI,CAACI,YAAL,EAAmB;AACf;AACH;;AACDD,IAAAA,KAAK,CAACE,cAAN;;AACA,QAAIJ,OAAJ,EAAa;AACTE,MAAAA,KAAK,CAACG,WAAN,GAAoBL,OAApB;AACH;;AACD,WAAOA,OAAP;AACH,GAVwB,EAUtB,CAACD,OAAD,EAAUC,OAAV,CAVsB,CAAzB;AAWAL,EAAAA,SAAS,CAAC,YAAY;AAClB,QAAI,CAACI,OAAL,EAAc;AACV;AACH;;AACDF,IAAAA,EAAE,CAACS,MAAD,EAAS,cAAT,EAAyBL,OAAzB,CAAF;AACA,WAAO,YAAY;AAAE,aAAOL,GAAG,CAACU,MAAD,EAAS,cAAT,EAAyBL,OAAzB,CAAV;AAA8C,KAAnE;AACH,GANQ,EAMN,CAACF,OAAD,EAAUE,OAAV,CANM,CAAT;AAOH,CApBD;;AAqBA,eAAeH,eAAf","sourcesContent":["import { useCallback, useEffect } from 'react';\nimport { off, on } from './misc/util';\nvar useBeforeUnload = function (enabled, message) {\n    if (enabled === void 0) { enabled = true; }\n    var handler = useCallback(function (event) {\n        var finalEnabled = typeof enabled === 'function' ? enabled() : true;\n        if (!finalEnabled) {\n            return;\n        }\n        event.preventDefault();\n        if (message) {\n            event.returnValue = message;\n        }\n        return message;\n    }, [enabled, message]);\n    useEffect(function () {\n        if (!enabled) {\n            return;\n        }\n        on(window, 'beforeunload', handler);\n        return function () { return off(window, 'beforeunload', handler); };\n    }, [enabled, handler]);\n};\nexport default useBeforeUnload;\n"]},"metadata":{},"sourceType":"module"}